package com.yylx.test;

import co.elastic.clients.elasticsearch.ElasticsearchClient;
import co.elastic.clients.elasticsearch._types.KnnSearch;
import co.elastic.clients.elasticsearch.core.SearchResponse;
import co.elastic.clients.json.jackson.JacksonJsonpMapper;
import co.elastic.clients.transport.ElasticsearchTransport;
import co.elastic.clients.transport.rest_client.RestClientTransport;
import com.yylx.test.model.ElasticsearchDO;
import org.apache.http.HttpHost;
import org.apache.http.auth.AuthScope;
import org.apache.http.auth.UsernamePasswordCredentials;
import org.apache.http.client.CredentialsProvider;
import org.apache.http.impl.client.BasicCredentialsProvider;
import org.elasticsearch.client.RestClient;
import org.elasticsearch.client.RestClientBuilder;

import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;

public class Test222 {

    public static void main(String[] args) throws Exception {

        List<Float> queryVector =
                Arrays.asList(0.0063312217f, -0.024276875f, -0.0019372798f, 0.00963554f, 0.029467613f, -0.034572046f,
                        0.0075703408f, -0.011004119f, 0.0007863938f, 0.020541022f, -0.014622841f, 0.043202728f,
                        -0.0050150426f, -0.010886989f, 0.024239887f, 0.00013080877f, -0.025423523f, 0.027198976f,
                        0.039725795f, -0.03876409f, -0.019406704f, -0.0034337784f, -0.043597274f, 0.036520112f,
                        -0.0042413636f, 0.0006511541f, 0.014770796f, -0.018888863f, 0.0074408804f, -0.047690682f,
                        0.04446034f, 0.017113408f, 0.030873181f, 0.049515452f, -0.010689716f, -0.016114715f,
                        0.051636137f, 0.04453432f, 0.028333295f, 0.013315909f, -0.010264346f, -0.0028142186f,
                        -0.03250068f, 0.0051999856f, 0.01383375f, 0.033980228f, 0.0039053834f, 0.03225409f,
                        0.030749885f, -0.0016922301f, 0.021095851f, -0.011515795f, 0.016459944f, -0.01015338f,
                        -0.013895397f, -0.008945085f, 0.03878875f, 0.027692158f, 0.007946392f, 0.01736f, 0.025892045f,
                        0.0035878976f, -0.049490795f, -0.0023410723f, 0.010073238f, 0.013710454f, 0.056567952f,
                        0.0025044389f, -0.0233275f, 0.012847386f, -0.06722068f, 0.02003551f, 0.0075271875f,
                        -0.040514886f, 0.007342244f, 0.011182898f, 0.035607725f, -0.018506648f, -0.03748182f,
                        -0.0011551243f, -0.018506648f, 0.046679657f, 0.0027263707f, 0.009795824f, 0.011219886f,
                        0.017199716f, -0.042191703f, -0.019764261f, -0.053806137f, 0.03336375f, -0.005375682f,
                        -0.015670853f, 0.014894091f, -0.008174488f, -0.012021307f, -0.02628659f, -0.035854317f,
                        -0.0026400639f, -0.021280795f, -0.0265825f, 0.023968635f, -0.041156024f, -0.018124431f,
                        0.005095185f, 0.020467045f, -0.008482727f, 0.005092102f, 0.03987375f, -0.016669545f,
                        -0.0053417752f, -0.02904841f, -0.023438465f, -0.04364659f, -0.009808153f, -0.024017954f,
                        0.028136022f, 0.019061478f, -0.017249035f, -0.0061401133f, 0.024350852f, 0.039775115f,
                        -0.0526225f, -0.0007174254f, 0.016114715f, 0.017705226f, 0.015399602f, 0.01219392f,
                        -0.005079773f, 0.019234091f, 0.035114545f, -0.01072054f, -0.010905483f, 0.014400909f,
                        -0.020023182f, 0.002129929f, 0.009845142f, 0.0020729047f, -0.031317044f, -0.007779943f,
                        0.012526818f, -0.009808153f, -0.014894091f, 0.020713637f, -0.008587528f, 0.006183267f,
                        -0.014783124f, 0.014018693f, 0.009370455f, -0.009820483f, 0.018802557f, -0.00427527f,
                        -0.06677682f, -0.03005943f, 0.04261091f, -0.015559886f, 0.010572585f, -0.057603635f,
                        0.011275369f, 0.0017662074f, 0.004595838f, -0.025990682f, 0.018099772f, 0.011404829f,
                        0.020984886f, 0.0014155859f, -0.035755683f, 0.078711815f, 0.012520653f, -0.011762386f,
                        -0.0007128018f, -0.02518926f, 0.024757726f, 0.038098294f, -0.0012391193f, 0.00853821f,
                        0.06746727f, -0.009117698f, -0.022674033f, 0.009438267f, -0.008482727f, 0.027815454f,
                        0.062831365f, -0.0077059655f, -0.024893353f, 0.0018802556f, 0.023820681f, 0.0136857955f,
                        0.012156932f, -0.0012784197f, 0.007132642f, 0.005514389f, -0.0330925f, -0.01980125f,
                        -0.025016647f, -0.014758466f, 0.023130227f, -0.005912017f, -0.042808183f, 0.015559886f,
                        0.06302863f, 0.010671222f, -0.0089820735f, 0.05449659f, -0.018666932f, -0.035065226f, -0.05425f,
                        -0.018827215f, 0.01951767f, -0.017212044f, -0.039207954f, 0.023869999f, 0.012810398f,
                        -0.07328682f, -0.0008692329f, -0.019616306f, 0.0020852343f, 0.012946023f, 0.0034430255f,
                        0.04150125f, 0.04660568f, 0.0028635368f, -0.039207954f, 0.0014009445f, 0.0055976138f,
                        0.008673835f, 0.028037386f, 0.03656943f, 0.008421079f, 0.030799204f, -0.048997615f,
                        0.0008160618f, -0.025818069f, 0.01761892f, 0.006318892f, 0.014166648f, 0.030700568f,
                        0.035139203f, -0.017643578f, 0.012909034f, -0.02003551f, 0.0145365335f, 0.039355908f,
                        0.0015812642f, -0.033536363f, 0.04172318f, -0.019714942f, 0.02385767f, -0.0868f, 0.03222943f,
                        0.020738294f, 0.038887385f, -0.0008784801f, 0.0030669745f, 0.0007382315f, 0.029122386f,
                        -0.042709544f, 0.039479204f, 0.024017954f, -0.00556679f, -0.010110227f, -0.038517497f,
                        0.0038745597f, -0.03361034f, -0.029492272f, -0.019653294f, -0.03849284f, 0.015966762f,
                        0.012909034f, 0.01097946f, -0.0450275f, 0.011059602f, -0.021490397f, -0.010313665f,
                        -0.008908097f, 0.0024890269f, -0.036125567f, 0.0064113634f, -0.005776392f, 0.04690159f,
                        -0.009518409f, 0.004931818f, -0.03287057f, -0.029862158f, -0.00961088f, 0.010233522f,
                        -0.032648634f, 0.011281534f, 0.03496659f, 0.010843835f, 0.040909432f, -0.0075456817f,
                        0.014068011f, 0.001579723f, -0.014154318f, 0.0026554759f, 0.024954999f, 0.017988807f,
                        0.035706364f, 0.0026076988f, -0.027198976f, 0.033856932f, 0.002018963f, 0.0005120614f,
                        -0.03661875f, 0.016509261f, 0.023980966f, -0.006294233f, 0.010239688f, -0.0018972087f,
                        0.059231136f, 0.0038838068f, -0.004389318f, -0.007804602f, 0.006479176f, -0.0070648296f,
                        -0.029566249f, -0.023524772f, -0.0017646662f, 0.019764261f, 0.017039431f, -0.008932755f,
                        0.026237272f, 0.0062603266f, -0.014832443f, 0.023623409f, 0.03311716f, -0.028086703f,
                        -0.032722615f, -0.019172443f, -0.017273692f, 0.01123838f, 0.0104369605f, -0.019098466f,
                        0.020417728f, -0.028777158f, 0.04956477f, -0.0052462216f, -0.005634602f, 0.015757158f,
                        0.0010202698f, -0.028925113f, 0.0151406815f, 0.029492272f, -0.034374774f, -0.017495625f,
                        -0.00009237527f, -0.008790966f, 0.011337017f, -0.0032488352f, 0.036816023f, 0.0007185813f,
                        -0.0004057191f, 0.0012668608f, -0.009697188f, -0.028234659f, 0.021095851f, 0.033634998f,
                        0.00400402f, -0.0028820313f, 0.010923977f, -0.006278821f, 0.0003253844f, 0.005064361f,
                        0.014105f, 0.007656648f, -0.035903636f, 0.008630682f, 0.006608636f, -0.029442955f, 0.033462387f,
                        0.033807613f, -0.03356102f, -0.0038036648f, 0.0045434376f, 0.013994033f, -0.017655909f,
                        0.06322591f, 0.0016182528f, -0.0067196023f, -0.000111351204f, 0.024511136f, 0.004802358f,
                        -0.032944545f, -0.012144602f, -0.011059602f, -0.0039639487f, -0.01220625f, 0.0029344317f,
                        0.009999261f, 0.015485909f, 0.038295567f, -0.031464998f, -0.01897517f, 0.048479773f,
                        0.004349247f, -0.022575397f, -0.00799571f, 0.04692625f, -0.002250142f, 0.008852613f,
                        -0.024054943f, 0.032130796f, 0.031045794f, -0.011269204f, 0.02710034f, -0.012280227f,
                        0.020676648f, 0.01382142f, -0.023117898f, -0.016570909f, 0.0018787144f, 0.0112876985f,
                        -0.043301363f, -0.040317614f, 0.003646463f, 0.015387272f, 0.01330358f, -0.011004119f,
                        -0.031884205f, -0.022032898f, -0.0150173865f, -0.022168523f, -0.015584545f, 0.0064853407f,
                        -0.04044091f, 0.03306784f, 0.008439573f, 0.028308636f, 0.026656477f, -0.09020295f, 0.04939216f,
                        0.028259318f, 0.022834318f, -0.024042614f, -0.019924546f, 0.005119844f, 0.047641363f,
                        -0.009986931f, -0.019702613f, -0.003510838f, -0.009099204f, 0.019936875f, 0.010862329f,
                        0.0043523293f, -0.0012098366f, -0.0019681037f, 0.032476023f, 0.019591648f, -0.005875028f,
                        -0.0042567756f, -0.025818069f, -0.016065398f, 0.009074545f, -0.007940227f, -0.0025645455f,
                        0.029886818f, 0.003701946f, -0.02141642f, -0.013389886f, 0.00800804f, 0.016065398f,
                        0.006836733f, 0.014129659f, -0.007385398f, -0.017175056f, 0.07575273f, 0.015128352f,
                        0.011096591f, 0.020935567f, -0.0045064487f, -0.0044694603f, -0.015917443f, 0.01789017f,
                        0.0051105963f, 0.019653294f, 0.013648806f, -0.019036818f, -0.016348977f, 0.024190567f,
                        0.043819204f, 0.011417159f, -0.03578034f, 0.018592954f, -0.0008052734f, -0.014820114f,
                        0.007391562f, 0.039405227f, 0.036248863f, -0.022180852f, -0.027198976f, -0.024215227f,
                        -0.013143295f, 0.011466477f, -0.0043769884f, -0.014388579f, -0.012637784f, 0.004574261f,
                        0.004731463f, 0.0058688633f, -0.020158807f, 0.011750056f, -0.06431091f, -0.021058863f,
                        -0.0047068037f, 0.032747272f, 0.012317216f, 0.025115283f, 0.022994602f, 0.00400402f,
                        -0.026656477f, -0.0077121304f, -0.03955318f, 0.008445739f, -0.026952386f, -0.0136241475f,
                        -0.0025630041f, -0.008710824f, -0.015905114f, 0.029221023f, -0.0057825567f, -0.028530568f,
                        0.011571278f, -0.020799942f, -0.009339631f, 0.035435114f, 0.008347102f, -0.01166375f,
                        0.016262671f, -0.030478636f, 0.022760341f, -0.032969203f, 0.007379233f, 0.023919318f,
                        0.067368634f, -0.020541022f, -0.009271818f, -0.0027417827f, 0.012532983f, -0.009795824f,
                        -0.025065966f, 0.026656477f, 0.027001703f, -0.013365227f, 0.014203636f, 0.022168523f,
                        -0.002960632f, 0.0010063992f, -0.01218159f, -0.024252215f, -0.0144132385f, -0.035706364f,
                        0.016632557f, 0.020713637f, -0.013525511f, -0.01874091f, 0.0287525f, -0.027593521f, 0.03195818f,
                        -0.03442409f, -0.004561932f, -0.005952088f, -0.013784432f, -0.037925683f, 0.018395681f,
                        -0.016201023f, 0.012921363f, -0.004802358f, 0.0127117615f, -0.0211575f, 0.021342443f,
                        -0.013759772f, 0.0035447443f, -0.018050455f, -0.0029560085f, 0.035854317f, 0.010264346f,
                        -0.020109488f, -0.019579317f, 0.019098466f, -0.012970681f, 0.006805909f, -0.015757158f,
                        -0.024239887f, -0.03144034f, -0.03393091f, -0.006750426f, -0.0030346094f, -0.033758294f,
                        0.028925113f, 0.022908295f, 0.034226816f, 0.028604545f, 0.004044091f, 0.013377557f, 0.03901068f,
                        -0.008710824f, -0.018260056f, -0.01016571f, 0.015855795f, 0.012434347f, -0.004629744f,
                        -0.0057363207f, 0.0048393463f, -0.011410994f, 0.011300028f, -0.03903534f, 0.029640228f,
                        -0.0020729047f, 0.016607897f, -0.02251375f, 0.025719432f, 0.0038653123f, 0.015880454f,
                        0.025719432f, -0.012884375f, -0.017150398f, 0.04549602f, -0.014055681f, 0.013932386f,
                        -0.007422386f, -0.0023025426f, 0.019110795f, 0.045126136f, 0.03449807f, -0.021515056f,
                        -0.012674772f, -0.013722784f, -0.022994602f, 0.009117698f, -0.006362045f, -0.014117329f,
                        -0.017014772f, -0.0041458094f, -0.034818634f, -0.029886818f, 0.01273642f, -0.00017897105f,
                        0.008760142f, 0.0047684517f, -0.021194488f, -0.021502728f, 0.0034892613f, 0.024498807f,
                        -0.07254704f, -0.0008607564f, 0.001906456f, 0.02277267f, 0.016792841f, -0.0052030683f,
                        -0.011096591f, 0.025374204f, 0.006849062f, -0.010973295f, -0.007126477f, 0.017002443f,
                        -0.002049787f, 0.023722045f, -0.0014795454f, -0.027001703f, -0.01895051f, 0.016213352f,
                        -0.0011898011f, -0.0042321165f, -0.007120312f, -0.03232807f, -0.0211575f, -0.012983011f,
                        0.0014256036f, 0.020762954f, 0.009789659f, 0.01330358f, 0.008303949f, 0.004592756f,
                        -0.014992727f, -0.0037142755f, -0.015917443f, 0.04638375f, -0.04586591f, -0.0049842186f,
                        0.004037926f, -0.0200725f, 0.041303977f, 0.009567727f, -0.0099561075f, -0.022378124f,
                        -0.018395681f, -0.014462557f, -0.01924642f, -0.012495994f, 0.0054804827f, -0.018395681f,
                        0.016879147f, 0.0049133236f, 0.016570909f, 0.01710108f, 0.034078863f, -0.023475453f,
                        -0.01733534f, 0.017803863f, -0.013402216f, -0.0025999928f, 0.0069476985f, -0.04088477f,
                        0.015831135f, -0.0010117933f, -0.025115283f, 0.0042629405f, 0.015658522f, -0.01653392f,
                        -0.012224744f, -0.028259318f, 0.024498807f, 0.017655909f, -0.014709148f, 0.025250908f,
                        0.012156932f, -0.039775115f, -0.0023996378f, -0.011978153f, -0.027790794f, 0.03176091f,
                        0.006192514f, -0.0019542328f, 0.0021484233f, 0.020504033f, 0.0031656108f, 0.0439425f,
                        -0.011417159f, -0.0048640054f, 0.0014209801f, 0.022254828f, -0.011540454f, -0.01519f,
                        -0.00054211466f, 0.018075114f, 0.01924642f, -0.0003939675f, -0.055187043f, -0.0014171271f,
                        0.007866249f, 0.0015743288f, 0.0113801705f, 0.033955567f, -0.03168693f, -0.009148522f,
                        -0.0051999856f, -0.043252043f, -0.004500284f, -0.024486477f, 0.01731068f, 0.05178409f,
                        0.0032765768f, -0.000074314405f, -0.022094546f, -0.025004318f, 0.014943409f, -0.009130028f,
                        -0.0076874713f, 0.021428749f, -0.03876409f, -0.03116909f, 0.050255228f, 0.015707841f,
                        0.048183862f, 0.010874659f, 0.07180727f, 0.006146278f, -0.056173407f, -0.029763522f,
                        0.019813579f, 0.0075765057f, 0.016953126f, -0.0075765057f, -0.018913522f, -0.02467142f,
                        -0.010954801f, 0.006278821f, 0.020713637f, 0.025139943f, 0.0013708913f, -0.0052277273f,
                        0.033462387f, 0.011435653f, -0.009345795f, -0.008630682f, -0.017409317f, -0.0062110084f,
                        0.0068983804f, -0.017951818f, -0.0011165944f, -0.016028408f, 0.00054712355f, 0.010794517f,
                        -0.017421648f, -0.0017924076f, 0.0030037854f, -0.02038074f, 0.0077059655f, -0.011528125f,
                        -0.024794716f, 0.03139102f, 0.00025198507f, -0.023019262f, 0.016768182f, 0.008433409f,
                        0.027618181f, -0.0014171271f, 0.0254975f, 0.0065284944f, -0.0106835505f, -0.012798068f,
                        0.013081647f, -0.00359098f, 0.02628659f, 0.011065767f, -0.002418132f, 0.0020451634f,
                        0.019382045f, -0.005138338f, -0.050847046f, 0.02088625f, 0.014228296f, -0.013007671f,
                        0.024881022f, -0.00814983f, 0.03356102f, 0.021021875f, 0.003239588f, -0.00074901985f,
                        -0.0072682668f, 0.008926591f, 0.022920625f, 0.02412892f, -0.022895966f, -0.014832443f,
                        0.01574483f, -0.003646463f, 0.043794546f, -0.0019511505f, -0.01491875f, -0.020134147f,
                        -0.0023441548f, -0.029442955f, -0.020467045f, -0.024831705f, 0.023512444f, -0.015337954f,
                        0.016891478f, 0.035632387f, -0.008451903f, 0.026163295f, -0.03827091f, 0.00868f, 0.032722615f,
                        0.021021875f, -0.04076148f, 0.039207954f, 0.008988239f, -0.028333295f, 0.009814318f,
                        -0.014437897f, 0.015757158f, -0.045742612f, -0.018901194f, 0.01625034f, 0.02576875f,
                        -0.0023765198f, 0.009462926f, 0.028062046f, -0.030626591f, 0.0019172443f, 0.0014864808f,
                        -0.0021114347f, -0.026459204f, -0.026927726f, -0.0039269603f, 0.0041119033f, -0.016188692f,
                        0.0017492542f, -0.007971051f, -0.00013832208f, 0.0038437357f, 0.051142953f, -0.032303408f,
                        0.028333295f, -0.019406704f, -0.0049194884f, -0.0098328125f, 0.0023025426f, -0.018518977f,
                        -0.006830568f, 0.0077984375f, -0.014881761f, 0.025990682f, 0.01218159f, 0.0013932387f,
                        -0.006559318f, -0.004318423f, -0.03195818f, 0.006805909f, -0.0138090905f, 0.0041365623f,
                        0.0041951276f, -0.060513407f, -0.01574483f, 0.040292952f, 0.012921363f, -0.015522897f,
                        -0.0036187216f, -0.02167534f, 0.009019062f, -0.014820114f, -0.015707841f, 0.023783693f,
                        0.059033863f, 0.022637045f, -0.0033413067f, 0.004324588f, -0.022883637f, -0.013377557f,
                        -0.018814886f, 0.016053068f, 0.01097946f, -0.011041108f, 0.004666733f, -0.012995341f,
                        0.017002443f, -0.009314971f, -0.017039431f, 0.0069908523f, -0.01409267f, -0.013476193f,
                        0.010628068f, -0.018938182f, -0.005233892f, 0.00061185367f, 0.0030346094f, 0.0064113634f,
                        0.025670113f, -0.029714204f, 0.006966193f, -0.01708875f, 0.008790966f, 0.0046389913f,
                        -0.027149659f, 0.014240624f, -0.03168693f, 0.017668238f, -0.010467784f, -0.016139375f,
                        0.023401476f, -0.013463863f, -0.0396025f, 0.018827215f, 0.0018062784f, 0.03306784f,
                        0.008501221f, 0.02195892f, -0.03222943f, -0.0054989774f, 0.0047068037f, 0.059724316f,
                        0.02552216f, -0.008710824f, -0.020134147f, -0.0038314061f, 0.005505142f, 0.0041303975f,
                        -0.03499125f, 0.0060137357f, -0.002305625f, 0.021638352f, -0.010030085f, 0.010128722f,
                        0.014487215f, -0.021872614f, 0.006093878f, -0.0013077024f, -0.01710108f, -0.044928864f,
                        -0.018753238f, -0.025694773f, -0.00949375f, 0.012859716f, 0.034843296f, -0.01113358f,
                        -0.014166648f, 0.02171233f, -0.00025102185f, -0.011534289f, -0.03005943f, 0.002657017f,
                        -0.029295f, -0.020220455f, -0.023228863f, 0.029319659f, -0.041871134f, 0.006614801f,
                        0.011910341f, 0.010215028f, 0.006565483f, -0.01490642f, -0.022982273f, 0.022254828f,
                        0.017569602f, 0.01544892f, 0.01678051f, -0.032303408f, -0.028259318f, -0.0020960227f,
                        0.03166227f, -0.010671222f, 0.010634232f, -0.009993097f, -0.008593693f, -0.008753977f,
                        -0.004802358f, 0.018260056f, 0.032155454f, 0.063275225f, -0.004793111f, -0.012101449f,
                        -0.036248863f, -0.005705497f, 0.0034738493f, -0.00691071f, -0.007681307f, 0.0051753265f,
                        0.030577272f, -0.040736817f, -0.001461051f, 0.034473408f, 0.006183267f, -0.010788352f,
                        0.020651989f, -0.023080908f, 0.004118068f, 0.023376817f, -0.00062264205f, -0.006861392f,
                        0.024079602f, 0.015905114f, 0.009919119f, 0.0015404226f, 0.006565483f, 0.0032673294f,
                        0.008883437f, 0.002752571f, 0.010856165f, 0.021342443f, 0.023265852f, 0.013883068f,
                        0.026508523f, -0.0004900994f, -0.02166301f, 0.012563807f, 0.0063558808f, -0.015707841f,
                        0.00508902f, 0.0014911044f, -0.004561932f, -0.019677954f, 0.01813676f, 0.022082215f,
                        -0.00772446f, 0.022612385f, 0.0065223295f, 0.0024427911f, 0.0113493465f, -0.006177102f,
                        -0.017446306f, 0.011275369f, 0.009900625f, 0.009555398f, -0.016768182f, -0.024868693f,
                        -0.025349544f, -0.01950534f, -0.01517767f, -0.0059243464f, -0.00020016247f, -0.029492272f,
                        -0.003214929f, -0.016127044f, -0.015103693f, 0.017372329f, 0.0016290412f, 0.014820114f,
                        0.0067874147f, -0.009277983f, -0.01123838f, 0.008340937f, -0.034054205f, -0.014277614f,
                        -0.008082017f, 0.0137474425f, 0.01113358f, -0.010110227f, 0.0054126703f, -0.013587159f,
                        0.0003515847f, -0.0012190838f, 0.012674772f, 0.011552784f, 0.017138068f, -0.020750625f,
                        0.006861392f, 0.018888863f, 0.025078295f, 0.0013585618f, -0.03765443f, -0.011879517f,
                        0.01814909f, 0.023216534f, -0.008871107f, 0.0298375f, -0.010825341f, -0.016164035f,
                        0.0033228125f, 0.018913522f, 0.0062264204f, 0.035706364f, 0.003701946f, 0.00057525036f,
                        -0.00047892577f, 0.0070093465f, 0.0025352628f, -0.01576949f, 0.0040502558f, 0.02330284f,
                        0.000054519707f, 0.010110227f, 0.0061863493f, 0.013217272f, 0.0075210226f, 0.0072251135f,
                        0.029615568f, 0.030799204f, -0.0057332385f, 0.016398296f, 0.007564176f, -0.015288636f,
                        0.005545213f, 0.030823862f, -0.011861023f, -0.0081313355f, -0.018605284f, 0.013180284f,
                        -0.008316278f, -0.025966022f, -0.013661136f, 0.015781818f, 0.028012726f, 0.02141642f,
                        0.018112103f, 0.020121818f, 0.013106307f, -0.007428551f, 0.0052030683f, 0.008698494f,
                        0.000064007676f, -0.0029945383f, -0.01761892f, 0.0070093465f, 0.015633862f, -0.018839546f,
                        -0.016311988f, -0.0065223295f, -0.0003446493f, 0.0068983804f, -0.013525511f, 0.00691071f,
                        0.018901194f, 0.012298722f, 0.013204943f, 0.013599488f, 0.041057386f, 0.005409588f,
                        0.025275568f, -0.02199591f, -0.022119204f, -0.00331973f, 0.00827929f, -0.007816931f,
                        -0.0122617325f, 0.007157301f, -0.006590142f, 0.009321136f, 0.005896605f, 0.000638054f,
                        0.0072312783f, -0.0135625f, -0.022871306f, -0.015806478f, 0.022575397f, 0.005033537f,
                        -0.010393807f, 0.020405397f, 0.004617415f, -0.005122926f, -0.011269204f, 0.023339828f,
                        0.0113493465f, -0.0010996413f, -0.0023318252f, -0.0044324715f, 0.0041858805f, -0.030404659f,
                        0.011312358f, 0.012687102f, 0.019850567f, -0.019702613f, -0.0075456817f, 0.0023194957f,
                        0.042388976f, 0.011071932f, 0.012662443f, 0.0019172443f, -0.03038f, -0.033191137f,
                        -0.0054065054f, -0.031045794f, 0.014043352f, 0.024301535f, 0.009253324f, 0.014043352f,
                        -0.0075148577f, 0.007903239f, -0.0150173865f, -0.0044817897f, -0.015374943f, 0.006349716f,
                        0.00020594193f, 0.04411511f, 0.029344318f, -0.0074655395f, 0.011669914f, -0.0060014063f,
                        0.012070625f, -0.0022378124f, 0.01980125f, -0.003701946f, -0.001835561f, -0.014721477f,
                        -0.017803863f, 0.017323012f, 0.04468227f, 0.017212044f, 0.013254262f, -0.017187387f,
                        -0.004102656f, 0.0026030752f, -0.0049256533f, -0.006343551f, 0.01273642f, 0.025423523f,
                        -0.027051022f, 0.009734176f, -0.0003461905f, 0.02547284f, -0.0020682812f, -0.021786306f,
                        0.008569034f, 0.010948637f, -0.0025275568f, -0.013957045f, -0.024905682f, 0.0020790696f,
                        -0.017779205f, 0.0023025426f, 0.002794183f, 0.011904176f, -0.008075852f, -0.01326659f,
                        -0.013069318f, 0.04337534f, 0.01599142f, -0.002408885f, -0.014992727f, -0.013143295f,
                        -0.01232338f, -0.010492443f, 0.013969375f, 0.008741648f, -0.021502728f, -0.008846449f,
                        -0.0015026634f, -0.01519f, -0.0025583806f, 0.008045028f, -0.020467045f, -0.0015650816f,
                        -0.008377926f, 0.0054958947f, 0.01652159f, 0.00041843395f, -0.005178409f, -0.021773977f,
                        -0.0031162926f, 0.020972557f, -0.011965823f, -0.006935369f, -0.017643578f, -0.009401279f,
                        0.0049903835f, 0.015732499f, 0.0016367472f, 0.011898011f, -0.011971989f, 0.019197103f,
                        0.0059582526f, 0.00066887785f, -0.008957415f, -0.013426875f, 0.022686364f, 0.012267898f,
                        0.0043862355f, 0.00745321f, 0.010325994f, -0.0066024717f, -0.011824034f, 0.004524943f,
                        -0.004830099f, 0.043819204f, 0.026730454f, -0.024042614f, 0.0062017613f, 0.023993295f,
                        0.007397727f, -0.010584914f, -0.029097727f, -0.0072312783f, 0.011700738f, 0.016632557f,
                        -0.019887557f, 0.0061894315f, -0.0055113067f, -0.0016691122f, -0.03119375f, 0.00068506034f,
                        -0.0028512073f, -0.013315909f, -0.00004866799f, -0.00583804f, -0.026483864f, 0.008242301f,
                        -0.010473949f, 0.02436318f, 0.03987375f, -0.024807045f, 0.02168767f, -0.003136328f,
                        0.0061863493f, -0.034793977f, -0.011971989f, 0.01327892f, -0.006479176f, 0.012304886f,
                        -0.01069588f, 0.021317784f, -0.007946392f, 0.013710454f, 0.005640767f, 0.006534659f,
                        0.015522897f, -0.020245112f, -0.025990682f, 0.009845142f, 0.005816463f, -0.02653318f,
                        -0.013722784f, -0.02033142f, -0.014018693f, 0.005576037f, 0.0010541761f, 0.007835426f,
                        0.009136193f, 0.0038868892f, 0.018592954f, 0.027371591f, 0.012200085f, 0.0021884942f,
                        0.0032519177f, 0.020923238f, -3.431563e-7f, 0.013537841f, 0.006670284f, -0.01680517f,
                        -0.0012999964f, -0.012095284f, -0.004830099f, 0.0023333665f, -0.003973196f, -0.007459375f,
                        -0.032993864f, 0.009277983f, 0.02443716f, -0.016188692f, 0.00678125f, -0.0072436077f,
                        -0.023463124f, 0.03965182f, -0.011004119f, -0.03817227f, 0.0111644035f, -0.027716817f,
                        0.0070278407f, -0.007212784f, 0.0233275f, 0.0023657314f, -0.023130227f, -0.005822628f,
                        -0.02359875f, 0.018247727f, -0.0019357386f, 0.005033537f, 0.01463517f, -0.000032292814f,
                        0.027741477f, 0.029147046f, -0.013488523f, -0.0016367472f, 0.00046621094f, 0.011848693f,
                        -0.004173551f, -0.032895226f, -0.018494317f, -0.027864773f, 0.015029715f, 0.028777158f,
                        0.03139102f, -0.002401179f, 0.008624517f, 0.01017804f, 0.0049194884f, 0.0034430255f,
                        -0.0042321165f, -0.027568864f, -0.034226816f, -0.011330852f, 0.049244203f, 0.0026107812f,
                        -0.013944715f, -0.019998522f, -0.0016274999f, 0.023105567f, -0.011528125f, 0.00440473f,
                        -0.010794517f, 0.0022331888f, 0.023475453f, 0.012662443f, -0.03277193f, -0.025250908f,
                        0.026508523f, 0.017286023f, 0.0027957244f, 0.022723353f, -0.004811605f, 0.013784432f,
                        0.024326192f, 0.03659409f, -0.0036526278f, 0.03462136f, 0.041969772f, 0.013414545f, -0.053165f,
                        -0.01206446f, 0.0059150993f, -0.04009568f, -0.007699801f, 0.028505908f, -0.011158238f,
                        0.0049503124f, -0.0017908665f, 0.014746136f, 0.036668066f, -0.039355908f, -0.035854317f,
                        0.013254262f, 0.021515056f, 0.0090128975f, 0.003424531f, 0.009148522f, 0.019147784f,
                        -0.014117329f, -0.022353465f, -0.0034676846f, -0.009308807f, -0.008180654f, 0.017557273f,
                        -0.0036834516f, 0.0081375f, 0.013920057f, -0.008488892f, -0.0135625f, 0.0031286222f,
                        -0.004860923f, -0.0060692187f, -0.035903636f, 0.009931449f, 0.037136592f, -0.00008842596f,
                        -0.0037851704f, -0.008001875f, 0.004830099f, 0.0045835082f, 0.023105567f, -0.0061555253f,
                        -0.018099772f, 0.00081374997f, -0.026483864f, 0.018099772f, 0.004330753f, -0.005079773f,
                        -0.0052400567f, -0.013907727f, -0.0037635937f, -0.020319091f, -0.011669914f, 0.020812273f,
                        -0.0145365335f, -0.012119943f, -0.012810398f, 0.012169261f, -0.0004712198f, 0.014339261f,
                        -0.0034676846f, 0.011281534f, -0.026903069f, -0.023364488f, 0.004827017f, 0.012095284f,
                        0.011817869f, -0.026039999f, -0.023253523f);

        final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();
        credentialsProvider.setCredentials(AuthScope.ANY,
                new UsernamePasswordCredentials("mione-staging", "iifEcMcv6Lastg48"));
        RestClientBuilder builder =
                RestClient.builder(new HttpHost("c3knn.api.es.srv", 80, "http")).setHttpClientConfigCallback(
                        httpClientBuilder -> httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider));
        RestClient restClient = builder.build();
        ElasticsearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());
        ElasticsearchClient elasticsearchClient = new ElasticsearchClient(transport);

        String index = "mione_vector_index_test";
        String field = "embedding";

//        GetIndexResponse response = elasticsearchClient.indices().get(e -> e.index(index));
//        System.out.println(response.result());
//
//        SearchResponse searchResponse = elasticsearchClient.search(e -> e.index(index).query(q -> q.matchAll(m -> m)), Object.class);
//        System.out.println(searchResponse);

        KnnSearch knnSearch =
                new KnnSearch.Builder().field(field).k(3).queryVector(queryVector).numCandidates(10).build();
        SearchResponse<ElasticsearchDO> response =
                elasticsearchClient.search(s -> s.index(index).knn(knnSearch), ElasticsearchDO.class);
        System.out.println(response.hits().hits().stream().map(x -> x.source()).collect(Collectors.toList()));

//        Map<String, Object> parameters = new HashMap<>();
//        parameters.put("query_vector", queryVector);
//
//        Script script = new Script(ScriptType.INLINE, "painless",
//                "(cosineSimilarity(params.query_vector, doc['embedding']) + 1.0)", parameters);
//        SearchRequest searchRequest = new SearchRequest(index);
//        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();
//        searchSourceBuilder.query(QueryBuilders.scriptScoreQuery(QueryBuilders.matchAllQuery(), script));
//        String[] excludeFields = new String[] {"embedding"};
//        searchSourceBuilder.fetchSource(null, excludeFields);
//        searchRequest.source(searchSourceBuilder);
    }
}
